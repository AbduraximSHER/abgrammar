import{o as r,g as u,l as g}from"./auth-Tfpdhhiz.js";import{r as v}from"./guard-opDxWjIk.js";import"https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";v();const d={A1:0,A2:1,B1:2,B2:3,C1:4},i=sessionStorage.getItem("accessDeniedMessage");if(i){const t=document.getElementById("access-denied");document.getElementById("access-message").textContent=i,t.classList.remove("hidden"),sessionStorage.removeItem("accessDeniedMessage"),setTimeout(()=>{t.classList.add("hidden")},5e3)}r(async t=>{if(t){const e=await u(t.uid);if(e){document.getElementById("user-name").textContent=e.displayName||t.email,document.getElementById("user-level").textContent=e.level||"N/A",document.getElementById("user-level").className=`level-badge ${(e.level||"").toLowerCase()}`,document.getElementById("placement-score").textContent=`${e.placementScore||0}%`;const c=e.placementHistory?.confidence||0;if(document.getElementById("confidence").textContent=`${Math.round(c*100)}%`,e.createdAt){const n=e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt);document.getElementById("member-since").textContent=n.toLocaleDateString("en-US",{month:"short",year:"numeric"})}E(e.level)}}});function E(t){const e=d[t]||0;["A1","A2","B1","B2","C1"].forEach(n=>{const m=d[n],s=document.getElementById(`level-${n.toLowerCase()}`),l=s.querySelector(".level-status"),o=s.querySelector(".level-link");if(m<=e){if(s.classList.remove("locked"),l.textContent="ðŸ”“ Unlocked",o.textContent="Start Learning â†’",o.classList.remove("disabled"),o.tagName==="SPAN"){const a=document.createElement("a");a.href="/",a.className="level-link",a.textContent="Start Learning â†’",o.replaceWith(a)}}else s.classList.add("locked"),l.textContent="ðŸ”’ Locked"})}document.getElementById("logout-btn").addEventListener("click",async()=>{await g(),window.location.href="/login.html"});
